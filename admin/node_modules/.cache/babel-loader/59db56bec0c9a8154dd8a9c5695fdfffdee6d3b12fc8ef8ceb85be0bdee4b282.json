{"ast":null,"code":"var _jsxFileName = \"E:\\\\FCB\\\\admin\\\\src\\\\pages\\\\Orders.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport DataTable from 'react-data-table-component';\nimport { db, storage } from '../firebase';\nimport { child, get, ref, remove, update } from 'firebase/database';\nimport Swal from 'sweetalert2';\nimport * as XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Orders = () => {\n  _s();\n  const [tableData, setTableData] = useState([]);\n  const [searchText, setSearchText] = useState('');\n  const [filteredData, setFilteredData] = useState([]);\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [selectedRowData, setSelectedRowData] = useState(null);\n  const [isOrderedItemsModalOpen, setOrderedItemsModalOpen] = useState(false);\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n  const openModal = rowData => {\n    setSelectedRowData(rowData);\n    setModalOpen(true);\n  };\n  const generateExcelReport = (startDate, endDate) => {\n    // Convert start and end dates to Date objects\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n\n    // Ensure end date is set to end of the day to include all records on that day\n    end.setHours(23, 59, 59, 999);\n\n    // Filter tableData based on the selected time period\n    const filteredOrders = tableData.filter(order => {\n      const orderDate = new Date(order.orderDate);\n      return orderDate >= start && orderDate <= end;\n    });\n\n    // Prepare data for the Excel report\n    const excelData = filteredOrders.map(order => ({\n      'Order Date': order.orderDate,\n      'UID': order.uid,\n      'Order Status': order.orderstatus,\n      'Payment Method': order.paymentMethod,\n      'Price': order.total,\n      'Grand Total': order.grandTotal\n      // Add more fields as needed\n    }));\n\n    // Convert data to Excel format\n    const worksheet = XLSX.utils.json_to_sheet(excelData);\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, 'Orders');\n\n    // Save Excel file\n    XLSX.writeFile(workbook, 'orders_report.xlsx');\n  };\n  const formatDate = date => {\n    const year = date.getFullYear();\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const day = date.getDate().toString().padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  };\n  const [selectedType, setSelectedType] = useState('');\n  useEffect(() => {\n    const dataRef = ref(db, '/orders');\n    get(dataRef).then(snapshot => {\n      if (snapshot.exists()) {\n        const dataObject = snapshot.val();\n        const dataKeys = Object.keys(dataObject);\n        const dataEntries = dataKeys.map(key => ({\n          key,\n          ...dataObject[key]\n        }));\n        dataEntries.sort((a, b) => a.rank - b.rank);\n        setTableData(dataEntries);\n        setFilteredData(dataEntries);\n      }\n    }).catch(error => {\n      console.error('Error fetching data:', error);\n    });\n  }, []);\n  const getproducts = () => {\n    Swal.fire({\n      html: `\n        <div className=\"\" >\n          <div className=\"spinner-border text-dark\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </div>\n        </div>\n      `,\n      showConfirmButton: false,\n      background: 'transparent',\n      timer: 3000\n    });\n    const dataRef = ref(db, '/orders');\n    get(dataRef).then(snapshot => {\n      if (snapshot.exists()) {\n        const dataObject = snapshot.val();\n        const dataKeys = Object.keys(dataObject);\n        const dataEntries = dataKeys.map(key => ({\n          key,\n          ...dataObject[key]\n        }));\n        dataEntries.sort((a, b) => a.rank - b.rank);\n        setTableData(dataEntries);\n        setFilteredData(dataEntries); // Initially, set filteredData to all data\n      }\n    }).catch(error => {\n      console.error('Error fetching data:', error);\n    });\n  };\n  const updateOrderStatus = (orderKey, newStatus) => {\n    const orderRef = ref(db, `orders/${orderKey}`);\n\n    // Update the order status in the Realtime Database\n    update(orderRef, {\n      orderstatus: newStatus\n    }).then(() => {\n      // Update the state with the latest orders\n      getproducts();\n\n      // Show a success message (you can customize this part)\n      Swal.fire({\n        icon: 'success',\n        title: 'Order status updated successfully!',\n        showConfirmButton: true,\n        timer: 3000\n      });\n    }).catch(error => {\n      // Show an error message (you can customize this part)\n      Swal.fire({\n        icon: 'error',\n        title: 'Error updating order status',\n        showConfirmButton: true,\n        timer: 3000\n      });\n      console.error('Error updating order status:', error);\n    });\n  };\n\n  // Usage in your component\n  // Replace 'Processing', 'Delivered', 'Shipped', 'Cancelled' with the actual statuses you have in your data\n  const handleStatusChange = (orderKey, newStatus) => {\n    Swal.fire({\n      title: `Are you sure you want to set the order status to ${newStatus}?`,\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonColor: '#007BFF',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, update status!',\n      cancelButtonText: 'Cancel'\n    }).then(result => {\n      if (result.isConfirmed) {\n        // Call the updateOrderStatus function with the selected status\n        updateOrderStatus(orderKey, newStatus);\n      }\n    });\n  };\n  const columns = [{\n    name: 'Order Date',\n    selector: 'orderDate'\n  }, {\n    name: 'UID',\n    selector: 'uid'\n  }, {\n    name: 'Order Status',\n    selector: 'orderstatus',\n    cell: row => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-row py-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown dropend\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary dropdown-toggle\",\n          type: \"button\",\n          id: \"statusDropdown\",\n          \"data-bs-toggle\": \"dropdown\",\n          \"aria-expanded\": \"false\",\n          children: row.orderstatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"dropdown-menu\",\n          \"aria-labelledby\": \"statusDropdown\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"d-flex\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"dropdown-item\",\n              onClick: () => handleStatusChange(row.key, 'Processing'),\n              children: \"Processing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"d-flex\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"dropdown-item\",\n              onClick: () => handleStatusChange(row.key, 'Delivered'),\n              children: \"Delivered\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"d-flex\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"dropdown-item\",\n              onClick: () => handleStatusChange(row.key, 'Shipped'),\n              children: \"Shipped\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"d-flex\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"dropdown-item\",\n              onClick: () => handleStatusChange(row.key, 'Cancelled'),\n              children: \"Cancelled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }, this)\n  }, {\n    name: 'Payment Method',\n    selector: 'paymentMethod'\n  },\n  // {\n  //   name: 'Quantity',\n  //   selector: 'items',\n  //   sortable: true,\n  //   cell: (row) => (\n  //     <div>\n  //       {row.items && row.items.length}\n  //     </div>\n  //   ),\n  // },\n\n  // {\n  //   // Empty column for spacing\n  //   name: '',\n  //   selector: '',\n  //   cell: () => <div style={{ width: '10px' }}></div>,\n  // },\n\n  {\n    name: 'Price',\n    selector: row => `â‚¹ ${row.total}`,\n    sortable: true\n  }, {\n    name: 'Grand Total',\n    // New column for displaying price after GST\n    selector: row => `â‚¹ ${row.grandTotal}`,\n    sortable: true\n  }, {\n    name: 'Ordered Items',\n    cell: row => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-row\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"bi bi-cart-fill px-4\",\n        onClick: () => openOrderedItemsModal(row)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 9\n    }, this)\n  }, {\n    name: 'Order Info',\n    cell: row => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-row\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"bi bi-eye-fill px-3\",\n        onClick: () => openModal(row)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 9\n    }, this)\n  }];\n  const paginationOptions = {\n    rowsPerPageText: 'Rows per page:',\n    rangeSeparatorText: 'of'\n  };\n  const calculatePriceAfterGST = price => {\n    // Perform GST calculation here, assuming GST rate is 18%\n    const GST_RATE = 0.18;\n    const priceAfterGST = price * (1 + GST_RATE);\n    return priceAfterGST.toFixed(2); // Round to 2 decimal places\n  };\n\n  const handleSearch = (searchQuery, selectedType) => {\n    let filteredItems = tableData;\n    if (searchQuery) {\n      filteredItems = filteredItems.filter(item => item.orderDate.toLowerCase().includes(searchQuery.toLowerCase()));\n    }\n    if (selectedType) {\n      filteredItems = filteredItems.filter(item => item.type.toLowerCase() === selectedType.toLowerCase());\n    }\n    setFilteredData(filteredItems);\n  };\n  const openOrderedItemsModal = rowData => {\n    setSelectedRowData(rowData);\n    setOrderedItemsModalOpen(true);\n  };\n  const [userDetails, setUserDetails] = useState(null);\n\n  // Function to fetch and set user details\n  const fetchUserDetails = async uid => {\n    const userRef = ref(db, `users/${uid}/profile`);\n    try {\n      const snapshot = await get(userRef);\n      if (snapshot.exists()) {\n        const userData = snapshot.val();\n        // Set user details in state\n        setUserDetails(userData);\n      } else {\n        setUserDetails(null); // Set to null if user details not found\n      }\n    } catch (error) {\n      console.error('Error fetching user details:', error);\n      setUserDetails(null); // Set to null in case of an error\n    }\n  };\n\n  // useEffect to fetch user details when modal is opened\n  useEffect(() => {\n    if (isModalOpen && selectedRowData && selectedRowData.uid) {\n      fetchUserDetails(selectedRowData.uid);\n    }\n  }, [isModalOpen, selectedRowData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sticky-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-row justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fw-bold\",\n          children: \"Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              marginRight: '10px',\n              paddingRight: '5px'\n            },\n            children: \"Start Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: startDate,\n            onChange: e => setStartDate(e.target.value),\n            style: {\n              marginRight: '10px',\n              border: '1px solid #ccc',\n              padding: '8px',\n              borderRadius: '4px',\n              outline: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              marginRight: '10px',\n              paddingRight: '5px'\n            },\n            children: \"End Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: endDate,\n            onChange: e => setEndDate(e.target.value),\n            style: {\n              marginRight: '10px',\n              border: '1px solid #ccc',\n              padding: '8px',\n              borderRadius: '4px',\n              outline: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => generateExcelReport(startDate, endDate),\n            style: {\n              padding: '8px 16px',\n              backgroundColor: '#000',\n              color: '#fff',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer'\n            },\n            children: \"Download Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-4 mb-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-group-text\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 52\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search order date...\",\n                className: \"form-control\",\n                value: searchText,\n                onChange: e => {\n                  setSearchText(e.target.value);\n                  handleSearch(e.target.value, selectedType);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-4 mb-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              overflowX: 'auto',\n              height: \"70vh\"\n            },\n            children: /*#__PURE__*/_jsxDEV(DataTable, {\n              className: \"table table-bordered table-striped \",\n              columns: columns,\n              data: filteredData,\n              pagination: true,\n              paginationComponentOptions: paginationOptions,\n              highlightOnHover: true,\n              pointerOnHover: true,\n              striped: true,\n              paginationRowsPerPageOptions: [10, 25, 50, 100]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 7\n    }, this), isOrderedItemsModalOpen && selectedRowData && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal d-block border-0\",\n        role: \"dialog\",\n        style: {\n          display: 'block',\n          background: 'rgba(0, 0, 0, 0.5)',\n          backdropFilter: 'blur(3px)'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-dialog modal-lg border-0 modal-dialog-centered \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-content text-bg-green border-0 rounded-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex flex-row justify-content-between pb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"animate__animated animate__fadeInDown text-center fw-bold\",\n                  children: \"Ordered Items\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"animate__animated animate__fadeInUp \",\n                  onClick: () => setOrderedItemsModalOpen(false),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-x-circle-fill\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"table-responsive\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"table table-bordered\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Product ID\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 471,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Product Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 472,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Quantity\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 473,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 470,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: selectedRowData.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.productID\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 480,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.productName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 481,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.quantity\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 482,\n                        columnNumber: 29\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 9\n    }, this), isModalOpen && selectedRowData && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal d-block border-0\",\n        role: \"dialog\",\n        style: {\n          display: 'block',\n          background: 'rgba(0, 0, 0, 0.5)',\n          backdropFilter: 'blur(3px)'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-dialog modal-lg border-0 modal-dialog-centered \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-content text-bg-green border-0 rounded-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex flex-row justify-content-between pb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"animate__animated animate__fadeInDown text-center fw-bold\",\n                  children: \"Order Info\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"animate__animated animate__fadeInUp \",\n                  onClick: () => setModalOpen(false),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-x-circle-fill\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 516,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"container border px-3 rounded-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12 d-flex flex-row justify-content-center pb-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        className: \"img-fluid\",\n                        src: selectedRowData.imageURL,\n                        width: 200,\n                        loading: \"lazy\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 523,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"fw-bold\",\n                        children: \"Product ID:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 526,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\" \", selectedRowData.key]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 527,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 525,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"fw-bold\",\n                        children: \"User ID\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 530,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\" \", selectedRowData.uid]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 531,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 529,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"fw-bold\",\n                        children: \"Order ID:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 534,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\" \", selectedRowData.key]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 535,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 533,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"fw-bold\",\n                        children: \"Product Price:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 539,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\" \", selectedRowData.total]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 540,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 538,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"fw-bold\",\n                        children: \"Grand Total:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 543,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\" \\u20B9 \", selectedRowData.grandTotal]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 544,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 542,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"fw-bold\",\n                        children: \"Payment Method :\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 547,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\" \", selectedRowData.paymentMethod]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 548,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 546,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"fw-bold\",\n                        children: \"Order Status:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 551,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\" \", selectedRowData.orderstatus]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 552,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 550,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"fw-bold\",\n                        children: \"Order Date:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 555,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\" \", selectedRowData.orderDate]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 556,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 554,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 559,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"container  px-3 \",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"row \",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-md-6\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"fw-bold\",\n                            children: \"First Name:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 564,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [\" \", selectedRowData.address.firstName]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 565,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 563,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-md-6\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"fw-bold\",\n                            children: \"Last Name:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 568,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [\" \", selectedRowData.address.lastName]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 569,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 567,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-md-6\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"fw-bold\",\n                            children: \"Address:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 572,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [\" \", selectedRowData.address.address]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 573,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 571,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-md-6\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"fw-bold\",\n                            children: \"City:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 577,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [\" \", selectedRowData.address.city]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 578,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 576,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-md-6\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"fw-bold\",\n                            children: \"State:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 581,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [\" \", selectedRowData.address.state]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 582,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 580,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-md-6\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"fw-bold\",\n                            children: \"Pincode:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 585,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [\" \", selectedRowData.address.pincode]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 586,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 584,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-md-6\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"fw-bold\",\n                            children: \"Phone:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 589,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [\" \", selectedRowData.address.phone]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 590,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 588,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 562,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 561,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 360,\n    columnNumber: 5\n  }, this);\n};\n_s(Orders, \"Gfp3UIcu+BMMx3EXo5bFklVJTQM=\");\n_c = Orders;\nexport default Orders;\nvar _c;\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"names":["React","useEffect","useState","DataTable","db","storage","child","get","ref","remove","update","Swal","XLSX","jsxDEV","_jsxDEV","Orders","_s","tableData","setTableData","searchText","setSearchText","filteredData","setFilteredData","isModalOpen","setModalOpen","selectedRowData","setSelectedRowData","isOrderedItemsModalOpen","setOrderedItemsModalOpen","startDate","setStartDate","Date","endDate","setEndDate","openModal","rowData","generateExcelReport","start","end","setHours","filteredOrders","filter","order","orderDate","excelData","map","uid","orderstatus","paymentMethod","total","grandTotal","worksheet","utils","json_to_sheet","workbook","book_new","book_append_sheet","writeFile","formatDate","date","year","getFullYear","month","getMonth","toString","padStart","day","getDate","selectedType","setSelectedType","dataRef","then","snapshot","exists","dataObject","val","dataKeys","Object","keys","dataEntries","key","sort","a","b","rank","catch","error","console","getproducts","fire","html","showConfirmButton","background","timer","updateOrderStatus","orderKey","newStatus","orderRef","icon","title","handleStatusChange","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","columns","name","selector","cell","row","className","children","type","id","fileName","_jsxFileName","lineNumber","columnNumber","onClick","sortable","openOrderedItemsModal","paginationOptions","rowsPerPageText","rangeSeparatorText","calculatePriceAfterGST","price","GST_RATE","priceAfterGST","toFixed","handleSearch","searchQuery","filteredItems","item","toLowerCase","includes","userDetails","setUserDetails","fetchUserDetails","userRef","userData","style","marginRight","paddingRight","value","onChange","e","target","border","padding","borderRadius","outline","backgroundColor","color","cursor","placeholder","overflowX","height","data","pagination","paginationComponentOptions","highlightOnHover","pointerOnHover","striped","paginationRowsPerPageOptions","role","display","backdropFilter","items","index","productID","productName","quantity","src","imageURL","width","loading","address","firstName","lastName","city","state","pincode","phone","_c","$RefreshReg$"],"sources":["E:/FCB/admin/src/pages/Orders.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport DataTable from 'react-data-table-component';\r\nimport { db, storage } from '../firebase';\r\nimport { child, get, ref, remove, update } from 'firebase/database';\r\nimport Swal from 'sweetalert2';\r\nimport * as XLSX from 'xlsx';\r\n\r\nconst Orders = () => {\r\n  const [tableData, setTableData] = useState([]);\r\n  const [searchText, setSearchText] = useState('');\r\n  const [filteredData, setFilteredData] = useState([]);\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n  const [selectedRowData, setSelectedRowData] = useState(null);\r\n  const [isOrderedItemsModalOpen, setOrderedItemsModalOpen] = useState(false);\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [endDate, setEndDate] = useState(new Date());\r\n\r\n\r\n  const openModal = (rowData) => {\r\n    setSelectedRowData(rowData);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const generateExcelReport = (startDate, endDate) => {\r\n    // Convert start and end dates to Date objects\r\n    const start = new Date(startDate);\r\n    const end = new Date(endDate);\r\n\r\n    // Ensure end date is set to end of the day to include all records on that day\r\n    end.setHours(23, 59, 59, 999);\r\n\r\n    // Filter tableData based on the selected time period\r\n    const filteredOrders = tableData.filter(order => {\r\n      const orderDate = new Date(order.orderDate);\r\n      return orderDate >= start && orderDate <= end;\r\n    });\r\n\r\n    // Prepare data for the Excel report\r\n    const excelData = filteredOrders.map(order => ({\r\n      'Order Date': order.orderDate,\r\n      'UID': order.uid,\r\n      'Order Status': order.orderstatus,\r\n      'Payment Method': order.paymentMethod,\r\n      'Price': order.total,\r\n      'Grand Total': order.grandTotal\r\n      // Add more fields as needed\r\n    }));\r\n\r\n    // Convert data to Excel format\r\n    const worksheet = XLSX.utils.json_to_sheet(excelData);\r\n    const workbook = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(workbook, worksheet, 'Orders');\r\n\r\n    // Save Excel file\r\n    XLSX.writeFile(workbook, 'orders_report.xlsx');\r\n  };\r\n\r\n\r\n  const formatDate = (date) => {\r\n    const year = date.getFullYear();\r\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n    const day = date.getDate().toString().padStart(2, '0');\r\n    return `${year}-${month}-${day}`;\r\n  };\r\n\r\n\r\n\r\n  const [selectedType, setSelectedType] = useState('');\r\n\r\n  useEffect(() => {\r\n\r\n    const dataRef = ref(db, '/orders');\r\n    get(dataRef)\r\n      .then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n          const dataObject = snapshot.val();\r\n          const dataKeys = Object.keys(dataObject);\r\n          const dataEntries = dataKeys.map((key) => ({\r\n            key,\r\n            ...dataObject[key],\r\n          }));\r\n          dataEntries.sort((a, b) => a.rank - b.rank);\r\n          setTableData(dataEntries);\r\n          setFilteredData(dataEntries);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching data:', error);\r\n      });\r\n  }, []);\r\n\r\n\r\n\r\n  const getproducts = () => {\r\n    Swal.fire({\r\n      html: `\r\n        <div className=\"\" >\r\n          <div className=\"spinner-border text-dark\" role=\"status\">\r\n            <span className=\"visually-hidden\">Loading...</span>\r\n          </div>\r\n        </div>\r\n      `,\r\n      showConfirmButton: false,\r\n      background: 'transparent',\r\n      timer: 3000\r\n    });\r\n    const dataRef = ref(db, '/orders');\r\n    get(dataRef)\r\n      .then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n          const dataObject = snapshot.val();\r\n          const dataKeys = Object.keys(dataObject);\r\n          const dataEntries = dataKeys.map((key) => ({\r\n            key,\r\n            ...dataObject[key],\r\n          }));\r\n          dataEntries.sort((a, b) => a.rank - b.rank);\r\n          setTableData(dataEntries);\r\n          setFilteredData(dataEntries); // Initially, set filteredData to all data\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching data:', error);\r\n      });\r\n  }\r\n\r\n\r\n  const updateOrderStatus = (orderKey, newStatus) => {\r\n    const orderRef = ref(db, `orders/${orderKey}`);\r\n\r\n    // Update the order status in the Realtime Database\r\n    update(orderRef, { orderstatus: newStatus })\r\n      .then(() => {\r\n        // Update the state with the latest orders\r\n        getproducts();\r\n\r\n        // Show a success message (you can customize this part)\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'Order status updated successfully!',\r\n          showConfirmButton: true,\r\n          timer: 3000,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        // Show an error message (you can customize this part)\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error updating order status',\r\n          showConfirmButton: true,\r\n          timer: 3000,\r\n        });\r\n\r\n        console.error('Error updating order status:', error);\r\n      });\r\n  };\r\n\r\n\r\n\r\n  // Usage in your component\r\n  // Replace 'Processing', 'Delivered', 'Shipped', 'Cancelled' with the actual statuses you have in your data\r\n  const handleStatusChange = (orderKey, newStatus) => {\r\n    Swal.fire({\r\n      title: `Are you sure you want to set the order status to ${newStatus}?`,\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#007BFF',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Yes, update status!',\r\n      cancelButtonText: 'Cancel',\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        // Call the updateOrderStatus function with the selected status\r\n        updateOrderStatus(orderKey, newStatus);\r\n      }\r\n    });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      name: 'Order Date',\r\n      selector: 'orderDate',\r\n    },\r\n    {\r\n      name: 'UID',\r\n      selector: 'uid',\r\n    },\r\n    {\r\n      name: 'Order Status',\r\n      selector: 'orderstatus',\r\n      cell: (row) => (\r\n        <div className='d-flex flex-row py-2'>\r\n          <div className='dropdown dropend'>\r\n            <button\r\n              className='btn btn-secondary dropdown-toggle'\r\n              type='button'\r\n              id='statusDropdown'\r\n              data-bs-toggle='dropdown'\r\n              aria-expanded='false'\r\n            >\r\n              {row.orderstatus}\r\n            </button>\r\n            <ul className='dropdown-menu' aria-labelledby='statusDropdown'>\r\n              <li className='d-flex'>\r\n                <button\r\n                  className='dropdown-item'\r\n                  onClick={() => handleStatusChange(row.key, 'Processing')}\r\n                >\r\n                  Processing\r\n                </button>\r\n              </li>\r\n              <li className='d-flex'>\r\n                <button\r\n                  className='dropdown-item'\r\n                  onClick={() => handleStatusChange(row.key, 'Delivered')}\r\n                >\r\n                  Delivered\r\n                </button>\r\n              </li>\r\n              <li className='d-flex'>\r\n                <button\r\n                  className='dropdown-item'\r\n                  onClick={() => handleStatusChange(row.key, 'Shipped')}\r\n                >\r\n                  Shipped\r\n                </button>\r\n              </li>\r\n              <li className='d-flex'>\r\n                <button\r\n                  className='dropdown-item'\r\n                  onClick={() => handleStatusChange(row.key, 'Cancelled')}\r\n                >\r\n                  Cancelled\r\n                </button>\r\n              </li>\r\n            </ul>\r\n\r\n          </div>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      name: 'Payment Method',\r\n      selector: 'paymentMethod',\r\n    },\r\n\r\n    // {\r\n    //   name: 'Quantity',\r\n    //   selector: 'items',\r\n    //   sortable: true,\r\n    //   cell: (row) => (\r\n    //     <div>\r\n    //       {row.items && row.items.length}\r\n    //     </div>\r\n    //   ),\r\n    // },\r\n\r\n    // {\r\n    //   // Empty column for spacing\r\n    //   name: '',\r\n    //   selector: '',\r\n    //   cell: () => <div style={{ width: '10px' }}></div>,\r\n    // },\r\n\r\n    {\r\n      name: 'Price',\r\n      selector: (row) => `â‚¹ ${row.total}`,\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: 'Grand Total', // New column for displaying price after GST\r\n      selector: (row) => `â‚¹ ${row.grandTotal}`,\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: 'Ordered Items',\r\n      cell: (row) => (\r\n        <div className='d-flex flex-row'>\r\n          <i className='bi bi-cart-fill px-4' onClick={() => openOrderedItemsModal(row)}></i>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      name: 'Order Info',\r\n      cell: (row) => (\r\n        <div className='d-flex flex-row'>\r\n          <i className='bi bi-eye-fill px-3' onClick={() => openModal(row)}></i>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const paginationOptions = {\r\n    rowsPerPageText: 'Rows per page:',\r\n    rangeSeparatorText: 'of',\r\n  };\r\n\r\n  const calculatePriceAfterGST = (price) => {\r\n    // Perform GST calculation here, assuming GST rate is 18%\r\n    const GST_RATE = 0.18;\r\n    const priceAfterGST = price * (1 + GST_RATE);\r\n    return priceAfterGST.toFixed(2); // Round to 2 decimal places\r\n  };\r\n\r\n  const handleSearch = (searchQuery, selectedType) => {\r\n    let filteredItems = tableData;\r\n\r\n    if (searchQuery) {\r\n      filteredItems = filteredItems.filter((item) =>\r\n        item.orderDate.toLowerCase().includes(searchQuery.toLowerCase())\r\n      );\r\n    }\r\n\r\n    if (selectedType) {\r\n      filteredItems = filteredItems.filter((item) =>\r\n        item.type.toLowerCase() === selectedType.toLowerCase()\r\n      );\r\n    }\r\n\r\n    setFilteredData(filteredItems);\r\n  };\r\n\r\n  const openOrderedItemsModal = (rowData) => {\r\n    setSelectedRowData(rowData);\r\n    setOrderedItemsModalOpen(true);\r\n  };\r\n\r\n\r\n  const [userDetails, setUserDetails] = useState(null);\r\n\r\n  // Function to fetch and set user details\r\n  const fetchUserDetails = async (uid) => {\r\n    const userRef = ref(db, `users/${uid}/profile`);\r\n\r\n    try {\r\n      const snapshot = await get(userRef);\r\n      if (snapshot.exists()) {\r\n        const userData = snapshot.val();\r\n        // Set user details in state\r\n        setUserDetails(userData);\r\n      } else {\r\n        setUserDetails(null); // Set to null if user details not found\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching user details:', error);\r\n      setUserDetails(null); // Set to null in case of an error\r\n    }\r\n  };\r\n\r\n  // useEffect to fetch user details when modal is opened\r\n  useEffect(() => {\r\n    if (isModalOpen && selectedRowData && selectedRowData.uid) {\r\n      fetchUserDetails(selectedRowData.uid);\r\n    }\r\n  }, [isModalOpen, selectedRowData]);\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n\r\n      <div className='sticky-top'>\r\n        <div className='d-flex flex-row justify-content-between'>\r\n          <div className='fw-bold'>\r\n            Orders\r\n          </div>\r\n          {/* <button className=\"btn btn-secondary\" onClick={generateExcelReport}>Download Report</button> */}\r\n          <div>\r\n            <label style={{ marginRight: '10px', paddingRight: '5px' }}>Start Date</label>\r\n            <input\r\n              type=\"date\"\r\n              value={startDate}\r\n              onChange={(e) => setStartDate(e.target.value)}\r\n              style={{\r\n                marginRight: '10px',\r\n                border: '1px solid #ccc',\r\n                padding: '8px',\r\n                borderRadius: '4px',\r\n                outline: 'none'\r\n              }}\r\n            />\r\n\r\n            <label style={{ marginRight: '10px', paddingRight: '5px' }}>End Date</label>\r\n            <input\r\n              type=\"date\"\r\n              value={endDate}\r\n              onChange={(e) => setEndDate(e.target.value)}\r\n              style={{\r\n                marginRight: '10px',\r\n                border: '1px solid #ccc',\r\n                padding: '8px',\r\n                borderRadius: '4px',\r\n                outline: 'none'\r\n              }}\r\n            />\r\n\r\n            <button onClick={() => generateExcelReport(startDate, endDate)} style={{ padding: '8px 16px', backgroundColor: '#000', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}>Download Report</button>\r\n          </div>\r\n\r\n\r\n\r\n        </div>\r\n        <div className=\"container mt-4 mb-2\">\r\n          <div className='row'>\r\n            <div className='col-md-6'>\r\n              <div className='input-group'>\r\n                <span className='input-group-text'><i className='bi bi-search'></i></span>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search order date...\"\r\n                  className='form-control'\r\n                  value={searchText}\r\n                  onChange={(e) => {\r\n                    setSearchText(e.target.value);\r\n                    handleSearch(e.target.value, selectedType);\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className='container mt-4 mb-2'>\r\n        <div className='row'>\r\n          <div className='col-md-12'>\r\n            <div style={{ overflowX: 'auto', height: \"70vh\" }}>\r\n              <DataTable\r\n                className=\"table table-bordered table-striped \"\r\n                columns={columns}\r\n                data={filteredData}\r\n                pagination\r\n                paginationComponentOptions={paginationOptions}\r\n                highlightOnHover\r\n                pointerOnHover\r\n                striped\r\n                paginationRowsPerPageOptions={[10, 25, 50, 100]}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal for displaying ordered items */}\r\n      {isOrderedItemsModalOpen && selectedRowData && (\r\n        <div>\r\n          <div\r\n            className=\"modal d-block border-0\"\r\n            role=\"dialog\"\r\n            style={{\r\n              display: 'block',\r\n              background: 'rgba(0, 0, 0, 0.5)',\r\n              backdropFilter: 'blur(3px)',\r\n            }}\r\n          >\r\n            <div className=\"modal-dialog modal-lg border-0 modal-dialog-centered \">\r\n              <div className=\"modal-content text-bg-green border-0 rounded-4\">\r\n                <div className=\"modal-body\">\r\n                  <div className='d-flex flex-row justify-content-between pb-3'>\r\n                    <h5 className='animate__animated animate__fadeInDown text-center fw-bold'>\r\n                      Ordered Items\r\n                    </h5>\r\n                    <h5 className='animate__animated animate__fadeInUp ' onClick={() => setOrderedItemsModalOpen(false)}>\r\n                      <i className=\"bi bi-x-circle-fill\"></i>\r\n                    </h5>\r\n                  </div>\r\n                  <div className='table-responsive'>\r\n                    <table className='table table-bordered'>\r\n                      <thead>\r\n                        <tr>\r\n                          <th>Product ID</th>\r\n                          <th>Product Name</th>\r\n                          <th>Quantity</th>\r\n                          {/* Add more headers as needed */}\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {selectedRowData.items.map((item, index) => (\r\n                          <tr key={index}>\r\n                            <td>{item.productID}</td>\r\n                            <td>{item.productName}</td>\r\n                            <td>{item.quantity}</td>\r\n                            {/* Add more cells as needed */}\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n\r\n      {isModalOpen && selectedRowData && (\r\n        <div>\r\n          <div\r\n            className=\"modal d-block border-0\"\r\n            role=\"dialog\"\r\n            style={{\r\n              display: 'block',\r\n              background: 'rgba(0, 0, 0, 0.5)',\r\n              backdropFilter: 'blur(3px)',\r\n            }}\r\n          >\r\n            <div className=\"modal-dialog modal-lg border-0 modal-dialog-centered \">\r\n              <div className=\"modal-content text-bg-green border-0 rounded-4\">\r\n                <div className=\"modal-body\">\r\n                  <div className='d-flex flex-row justify-content-between pb-3'>\r\n                    <h5 className='animate__animated animate__fadeInDown text-center fw-bold'>\r\n                      Order Info\r\n                    </h5>\r\n                    <h5 className='animate__animated animate__fadeInUp ' onClick={() => setModalOpen(false)}>\r\n                      <i className=\"bi bi-x-circle-fill\"></i>\r\n                    </h5>\r\n                  </div>\r\n                  <div>\r\n                    <div className='container border px-3 rounded-3'>\r\n                      <div className='row'>\r\n                        <div className='col-md-12 d-flex flex-row justify-content-center pb-3'>\r\n                          <img className='img-fluid' src={selectedRowData.imageURL} width={200} loading='lazy' />\r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                          <label className='fw-bold'>Product ID:</label>\r\n                          <p> {selectedRowData.key}</p>\r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                          <label className='fw-bold'>User ID</label>\r\n                          <p> {selectedRowData.uid}</p>\r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                          <label className='fw-bold'>Order ID:</label>\r\n                          <p> {selectedRowData.key}</p>\r\n                        </div>\r\n\r\n                        <div className='col-md-6'>\r\n                          <label className='fw-bold'>Product Price:</label>\r\n                          <p> {selectedRowData.total}</p>\r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                          <label className='fw-bold'>Grand Total:</label>\r\n                          <p> â‚¹ {selectedRowData.grandTotal}</p>\r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                          <label className='fw-bold'>Payment Method :</label>\r\n                          <p> {selectedRowData.paymentMethod}</p>\r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                          <label className='fw-bold'>Order Status:</label>\r\n                          <p> {selectedRowData.orderstatus}</p>\r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                          <label className='fw-bold'>Order Date:</label>\r\n                          <p> {selectedRowData.orderDate}</p>\r\n                        </div>\r\n\r\n                        <hr></hr>\r\n\r\n                        <div className='container  px-3 '>\r\n                          <div className='row '>\r\n                            <div className='col-md-6'>\r\n                              <label className='fw-bold'>First Name:</label>\r\n                              <p> {selectedRowData.address.firstName}</p>\r\n                            </div>\r\n                            <div className='col-md-6'>\r\n                              <label className='fw-bold'>Last Name:</label>\r\n                              <p> {selectedRowData.address.lastName}</p>\r\n                            </div>\r\n                            <div className='col-md-6'>\r\n                              <label className='fw-bold'>Address:</label>\r\n                              <p> {selectedRowData.address.address}</p>\r\n                            </div>\r\n\r\n                            <div className='col-md-6'>\r\n                              <label className='fw-bold'>City:</label>\r\n                              <p> {selectedRowData.address.city}</p>\r\n                            </div>\r\n                            <div className='col-md-6'>\r\n                              <label className='fw-bold'>State:</label>\r\n                              <p> {selectedRowData.address.state}</p>\r\n                            </div>\r\n                            <div className='col-md-6'>\r\n                              <label className='fw-bold'>Pincode:</label>\r\n                              <p> {selectedRowData.address.pincode}</p>\r\n                            </div>\r\n                            <div className='col-md-6'>\r\n                              <label className='fw-bold'>Phone:</label>\r\n                              <p> {selectedRowData.address.phone}</p>\r\n                            </div>\r\n\r\n                          </div>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Orders\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}